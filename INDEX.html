<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WESI</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">

</head>


<body>
    <div class="nav-bar"> 
        <a id="wesi" href="#">WESI</a>

        <div class="search-bar">
            <input id="search-text" type="text" placeholder="Search.." onkeyup="searchFunction()">
            <button id="search" type="submit"><i id="scoop" class="fa-solid fa-search"></i></button>
        </div>


        <a id="menu">MENU
            <div class="menu-div">
                <a href="INDEX.html">HomePage</a>
                <a href="#Academic Program">Academic Program</a>
                <a href="#CLUBS">CLUBS</a>
                <a href="#DOCS">DOCS</a>
                <a href="#resources">Resources</a>
                <a href="#FAQs">FAQs</a>    
                <a href="#CONTACT">Contact</a>
                <a target="_blank" href="https://drive.google.com/uc?export=download&id=1eZKLm57JHxaCI5YzwDvz5PjbRt7f9RWz">Regulation <i class="fa-solid fa-download"></i></a>

            </div>
        </a>
        <a class="aboutme" href="#">About US</a>
        <p id="aboutme" >
            Oussama EL ATTAOUI<br>
            <a target="_blank" href="https://www.Linkedin.com/in/oussama-el-attaoui-072a12335"><i class="fa-brands fa-linkedin-in"></i></a><br>
            Cyber Security & Software Engineering Enthusiast<br>
            +212617256346<br>
            oelattaoui1@gmail.com<br>

        </p>
    </div>
    
    <main>
        
    <div class="slider"> 
        <div class="figcap">
            <h2 class="title">Welcome to WESI</h2>
            <p class="description">WESI is an online guide that aims to help students and accompany you within the ESI school journey. We offer a wide range of resources and activities to help students develop their skills and knowledge in these fields. Whether you are a beginner or an expert, WESI has something for you!</p>
            </div>
            <img  src="images/esi inter.jpg" alt="background">
    </div>
    
    
    <div id="Academic-Program" class="slider">
        <div class="figcap2">
            <h2 class="title">Academic Program</h2>
            <p class="description">Explore the curriculum, courses, and study paths designed to shape your future at ESI.</p>
        </div>    
            
            
            <div class="major-container">
                
                
                
                <div class="major" id="ICSD">
                    <i class="fa-solid fa-user-graduate"></i><br>
                    <h3>Ingénierie des Connaissances et Science des Données - ICSD -</h3>
                    <button onclick="location.href='ICSD.html'" class="explore">Explore</button>
                </div>
                
                
                
                
                
                <div class="major" id="IIN">
                    <i class="fa-solid fa-user-graduate"></i><br>
                    <h3>Ingénierie De L’Information Numérique - IIN -</h3>
                    <button class="explore" onclick="location.href='IIN.html'">Explore</button>
                </div>
                
                

                
                
                
                <div class="major"  id="ISITD">
                    <i class="fa-solid fa-user-graduate"></i><br>
                    <h3>Ingénierie des Systèmes d'Information et de la Transformation Digitale - ISITD -</h3>
                    <button onclick="location.href='ISITD.html'" class="explore">Explore</button>
                    
                </div>
                
                
                
                
                
                
                <div class="major"  id="ISSIC">
                    <i class="fa-solid fa-user-graduate"></i><br>
                    <h3>Ingénierie de la Sécurité des Systèmes d’Information et Cyberdéfense - ISSIC -</h3>
                    <button onclick="location.href='ISSIC.html'" class="explore">Explore</button>
                    
                </div>
            </div>
         
    </div>



    <div id="DOCS" class="slider">
        <div class="figcap2">
            <h2 class="title">Docs</h2>
            <p class="description">Access a comprehensive collection of documents, guides, and resources designed to support your academic and professional journey at ESI. From study materials to project templates, find everything you need in one place.
            <span class="docs">What are you looking for exactly ?</span></p>
        </div>
        
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th class="full sem" colspan="2">Semester 1</th>
                    <th class="full sem" colspan="2">Semester 2</th>
                    <th class="full sem" colspan="2">Semester 3</th>
                    <th class="full sem" colspan="2">Semester 4</th>
                    <th class="full sem" colspan="2">Semester 5</th>

                </tr>
                <tr>
                    <th></th>
                    <th class="full">Cours & TP</th>
                    <th class="full">Exams</th>
                    <th class="full">Cours & TP</th>
                    <th class="full">Exams</th>
                    <th class="full">Cours & TP</th>
                    <th class="full">Exams</th>
                    <th class="full">Cours & TP</th>
                    <th class="full">Exams</th>
                    <th class="full">Cours & TP</th>
                    <th class="full">Exams</th>

                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="maj">ICSD</td>
                    <td><a target="_blank" href="https://drive.google.com/drive/folders/1s6WzmSmZupyTijVJXxNJ2evNexHmldBE"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a target="_blank" href="https://drive.google.com/drive/folders/1EJgxWve_cVwK2iYFO1LMiDLkMHzqJwjV"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a target="_blank" href="https://drive.google.com/drive/folders/1TkcKIJuG4mnC7v-Xj2XSHLtfABXpEs6j"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a target="_blank" href="https://drive.google.com/drive/folders/1Tn1phwAC5Cn8kae5WFg8JR5xmban2G29"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a target="_blank" href="https://drive.google.com/drive/folders/1gTFkn1POwgFOWeLyEa6wqY4IxCOYEVmE"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" target="_blank" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a target="_blank" href="https://drive.google.com/drive/folders/122BL0x6QllGCk92Cq5Mnib3kYgYg2R3l"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" target="_blank" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a target="_blank" href="https://drive.google.com/drive/folders/1c0jMGlwn-9-_v4jQK9dinR5nT5F-8rkQ"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" target="_blank" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>

                </tr>
                <tr>
                    <td class="maj">IIN</td>
                    <td><a href="https://drive.google.com/drive/folders/1Z6rM5CBs_etFk5b3AyancgFVt_x0r0oN"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/16-Ac1yx-KBajKMeBfNjzgofdfQge3hM6"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/1D43HzgMLvWOYYgbOQ5d5r3ntnix6FGEW"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/16126Y86_nLcMBHNvi2iVv60OLjuUk43_"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/1Dxx8ARjbQsBlYCoYkuOGatnWZDUbe-6e"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>

                </tr>
                <tr>
                    <td class="maj">ISSIC</td>
                    <td><a href="https://drive.google.com/drive/folders/1qFXZPEVXIKbER_0aRXz8v_bsrr2UZqQ-"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/15gn__tOlxPRHbLdLVU-jS5B7yxw0SS7F"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/1VaJJBNPK66IGq9hHrsFESGft_fQ0twUF"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/16tvltamZoOuKuFHPPyMSq_VDiXkpBvzC"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/16gm1w3qYYWNmAQ1Kkl955fhBta_BDdjm"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>

                </tr>
                <tr>
                    <td class="maj">ISITD</td>
                    <td><a href="https://drive.google.com/drive/folders/1Z6rM5CBs_etFk5b3AyancgFVt_x0r0oN"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/16-Ac1yx-KBajKMeBfNjzgofdfQge3hM6"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/1gIAvUKHR-yoauqHUZDJNXGEOHirEcldZ"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/1p4lo9cpbIH1chuCyK2mufnsa7d34oaF8"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a href="https://drive.google.com/drive/folders/1gWdRBG5M52R_e23-C-Ibpn7kdKzIDqWF"><i class="fa-solid fa-up-right-from-square"></i></a></td>
                    <td><a style="pointer-events: none;" href="#"><i class="fa-solid fa-up-right-from-square"></i></a></td>

                </tr>
            </tbody>
        </table>      
    </div>
        


    <div id="resources" class="slider">
        <div class="figcap2">
            <h2 class="title">Resources</h2>
            <p class="description">Explore a curated collection of resources tailored for students and professionals in the fields of cybersecurity, data science, web development, and digital information. Enhance your learning journey with tools, tutorials, and platforms designed to support your academic and professional growth at ESI.</p>
        </div>
        <div class="resources">

            <!--web developpement -->
            <div class="resh">
                <i class="fa-solid fa-laptop-code"></i> 
            </div>
            <div class="res">
                <h3>Web Development</h3>
                <br>
                <p>Learn web development with free online courses, tutorials, and resources. Explore the latest tools and technologies to build responsive websites, web applications, and e-commerce platforms.</p>
                <button onclick="window.open('https://www.freecodecamp.org/learn/', '_blank')">freecodecamp</button>

                <p>Master web development with interactive coding challenges and projects. Learn HTML, CSS, JavaScript, and more with hands-on practice.</p>
                <button onclick="window.open('https://www.codecademy.com/', '_blank')">codecademy</button>

                <p>Master coding with Programiz's beginner-friendly tutorials and examples. Learn programming concepts and build your skills in Python, Java, and more.</p>
                <button onclick="window.open('https://www.programiz.com/', '_blank')">programiz</button>

                <p>Learn web development with interactive tutorials and coding exercises. Build projects and improve your skills in HTML, CSS, JavaScript, and more.</p>
                <button onclick="window.open('https://www.w3schools.com/', '_blank')">w3schools</button>
            </div>





            <!--cyber security -->

            <div class="resh">
                <i class="fa-solid fa-shield-halved"></i>
                
            </div>
            <div class="res">
                <h3>Cybersecurity</h3>
                <br>
                <p>Discover cybersecurity resources, tools, and platforms to enhance your knowledge and skills in the field. Learn about the latest threats, vulnerabilities, and best practices to protect data and systems.</p>
                <button onclick="window.open('https://www.cybrary.it/', '_blank')">cybrary</button>

                <p>Enhance your cybersecurity skills with practical labs and certifications. Learn penetration testing, ethical hacking, and network security.</p>
                <button onclick="window.open('https://tryhackme.com/', '_blank')">tryhackme</button>

                <p>Learn cybersecurity fundamentals and advanced concepts with free courses and certifications. Explore topics like cryptography, risk management, and incident response.</p>
                <button onclick="window.open('https://www.edx.org/learn/cybersecurity', '_blank')">edx</button>

                <p>Test your cybersecurity skills and learn through challenges on RootMe. Explore various scenarios to enhance your knowledge in ethical hacking and penetration testing.</p>
                <button onclick="window.open('https://www.root-me.org/', '_blank')">root-me</button>
            </div>


            <!--data science -->

            <div class="resh">
                <i class="fa-solid fa-database"></i>
                
            </div>
            <div class="res">
                <h3>Data Science</h3>
                <br>
                <p>Explore data science resources, tutorials, and platforms to learn about data analysis, machine learning, and artificial intelligence. Discover the latest tools and technologies to analyze and visualize data.</p>
                <button onclick="window.open('https://www.kaggle.com/', '_blank')">Kaggle</button>

                <p>Learn data science and machine learning with real-world datasets and competitions. Build your portfolio and connect with a global community.</p>
                <button onclick="window.open('https://www.datacamp.com/', '_blank')">DataCamp</button>

                <p>Master data science with interactive courses and projects. Learn Python, R, SQL, and more with hands-on practice and real-world examples.</p>
                <button onclick="window.open('https://www.coursera.org/browse/data-science', '_blank')">Coursera</button>

                <p>Learn data science and machine learning with free courses and tutorials. Explore topics like data visualization, predictive analytics, and deep learning.</p>
                <button onclick="window.open('https://www.udemy.com/courses/data-science/', '_blank')">Udemy</button>
            </div>




            <!--digital information -->
            <div class="resh">
                <i class="fa-solid fa-info"></i>
                
            </div>
            <div class="res">
                <h3>Digital Information</h3>
                <br>
                <p>Access digital information resources, tools, and platforms to enhance your knowledge and skills in the field. Learn about information management, digital preservation, and data governance.</p>
                <button onclick="window.open('https://www.digitalpreservation.gov/', '_blank')">Digital Pre</button>

                <p>Discover digital information resources and best practices for managing and preserving digital assets. Learn about metadata, digitization, and archival standards.</p>
                <button onclick="window.open('https://www.dpconline.org/', '_blank')">DPC Online</button>

                <p>Learn about digital information management and preservation with free courses and resources. Explore topics like digital curation, data stewardship, and information governance.</p>
                <button onclick="window.open('https://www.coursera.org/browse/information-technology', '_blank')">Coursera</button>

                <p>Explore digital information management and preservation with Udemy's courses. Learn about digital curation, data stewardship, and information governance with expert instructors.</p>
                <button onclick="window.open('https://www.udemy.com/', '_blank')">Udemy</button>
            </div>


            <!--free certifications -->
            <div class="resh">
                <i class="fa-solid fa-graduation-cap"></i>
                
            </div>
            <div class="res">
                <h3>Free Certifications and General Topics Resources</h3>
                <br>
                <p>Access free certifications and resources on various topics to enhance your skills and knowledge. Explore courses, tutorials, and platforms to learn new skills and advance your career.</p>
                <button onclick="window.open('https://www.freecodecamp.org/certification/', '_blank')">FreeCodeCamp</button>

                <p>Discover free online courses and certifications from top universities and institutions. Learn at your own pace and explore a wide range of topics.</p>
                <button onclick="window.open('https://www.classcentral.com/', '_blank')">Class Central</button>

                <p>Access a wide range of video tutorials and courses on Courseflix. Learn new skills and enhance your knowledge with engaging content across various topics.</p>
                <button onclick="window.open('https://courseflix.net/', '_blank')">Courseflix</button>

            </div>
            
        </div>    
    </div>

        <div id="CLUBS" class="slider">
        <div class="figcap2">
            <h2 class="title">Clubs</h2>
            <p class="description">Discover the student clubs that shape campus life, foster creativity, and build a strong community at ESI.</p>
        </div>    
        
        <div class="clubs-container">
                
                
                
            <div class="club" id="code">
                <i class="fa-solid fa-code"></i><br>
                <h3>Club CODE-ESI</h3>
                <p>CODE is the IT club of the School of Information Sciences.
                    The main mission of the CODE club is to create a better atmosphere at the school and enable students to exchange ideas, create contacts with the professional world and also organise events and training courses to share their knowledge.</p>
                
            </div>
            
            
            
            
            
            <div class="club" id="jcmp">
                <i class="fa-solid fa-seedling"></i><br>
                <h3>Club JCMP-ESI</h3>
                <p>The JCMP-ESI’s mission is personal development and the fulfilment of extracurricular activities.</p>
                
            </div>
            
            

            
            
            
            <div class="club"  id="esitv">
                <i class="fa-solid fa-microphone"></i><br>
                <h3>Club ESI TV</h3>
                <p>ESI TV highlights the events, projects and successes that make the student community proud. Its main objective is to capture, produce and share the most exciting and significant moments in student life at the School of Information Sciences, whether through captivating podcasts, hard-hitting interviews or detailed reports.</p>
                
            </div>
            
            
            
            
            
            
            <div class="club"  id="jlm">
                <i class="fa-solid fa-users-rays"></i><br>
                <h3>Club JLM ESI</h3>
                <P>JLM focuses on leadership development among Moroccan youth. The club organizes various activities, including social events and community service initiatives, to foster leadership skills and community engagement among students.</P>
                
            </div>
        </div>
    </div>
        

    <div id="FORUM" class="slider">
        <div class="figcap2">
            <h2 class="title">WESI Forum</h2>
            <p class="description">Join the WESI Forum to share your thoughts, ask questions, and connect with the community. Engage in discussions and collaborate with fellow students and professionals.</p>
        </div>    
            <!------------------------------------------------>
            <div class="forum-container">
                <div class="forum-creat">
                    <textarea id="postContent" placeholder="Write something..."></textarea>
                    <button id="post" onclick="postMessage()">Post</button>
                    <button id="clearPosts" onclick="clearAllPosts()">Clear All Posts</button>
                </div>
            
                <div id="forumPosts"></div>
            <!------------------------------------------------>
            </div>
        
    </div>   


    <div id="FAQs" class="slider">
        <div class="figcap2">
            <h2 class="title">FAQs</h2>
            <p class="description">Find answers to frequently asked questions about ESI, academic programs, student life, and more. Get the information you need to navigate your journey at ESI with confidence.</p>
        </div>
        <div class="faq">
            <h4 class="question">What are the academic programs offered at ESI?</h4>
            <p>ESI offers four academic programs: Ingénierie des Connaissances et Science des Données (ICSD), Ingénierie De L’Information Numérique (IIN), Ingénierie des Systèmes d'Information et de la Transformation Digitale (ISITD), and Ingénierie de la Sécurité des Systèmes d’Information et Cyberdéfense (ISSIC).</p>
            <h4 class="question">What are the student clubs at ESI?</h4>
            <p>ESI has several student clubs, including CODE-ESI, JCMP-ESI, ESI TV, and JLM ESI. These clubs offer opportunities for personal development, community engagement, and networking.</p>
            <h4 class="question">Where can I find academic resources and documents?</h4>
            <p>You can find academic resources and documents for each major and semester on the Docs page of the WESI website. Explore course materials, study guides, and project templates to support your academic journey.</p>
            <h4 class="question">What resources are available for students at ESI?</h4>
            <p>ESI students have access to a wide range of resources, including academic materials, study guides, project templates, and online platforms for learning and skill development. Explore the Resources page for curated collections of tools and tutorials in cybersecurity, data science, web development, and digital information.</p>
            <h4 class="question">How can I get involved in student life at ESI?</h4>
            <p>You can get involved in student life at ESI by joining student clubs, participating in events and activities, and engaging with the student community. Connect with your peers, develop new skills, and contribute to campus life through clubs and initiatives.</p>
            <h4 class="question">What are the grading and validation rules at ESI?</h4>
            <p>The academic regulations regarding grades, validation, and retake policies can be found in the "Regulation" link under the MENU section. Clicking on it will start the download automatically.</p>
            <h4 class="question">How can I find an internship?</h4>
            <p>Check the Internship section for opportunities, requirements, and recommendations on finding an internship.</p>
        </div>
    </div>
   
    <footer id="CONTACT"
    <p>&copy; 2025 WESI | By Oussama EL ATTAOUI <a href="https://github.com/Oussama-zs"><i class="fa-brands fa-square-github"></i></a> <a href="mailto:oelattaoui@gmail.com"><i class="fa-solid fa-envelope"></i></a></p>
    </footer>
    <div id="wesi-chatbot" style="position:fixed; bottom:20px; right:20px; z-index:1000;">
        <div id="chatbot-container" style="display:none; width:300px; height:400px; background:#292a2b; border-radius:10px; box-shadow:0 0 10px #00bcd4; overflow:hidden;">
            <div style="background:#00bcd4; color:white; padding:10px; font-weight:bold; display:flex; justify-content:space-between;">
                <span>WESI Assistant</span>
                <button id="close-chat" style="background:none; border:none; color:white; cursor:pointer;">✕</button>
            </div>
            <div id="chat-messages" style="height:300px; overflow-y:auto; padding:10px; color:white;"></div>
            <div style="padding:10px; border-top:1px solid #444;">
                <input id="user-input" type="text" placeholder="Ask me something..." style="width:70%; padding:8px; background:#1e1e1e; border:1px solid #444; color:white;">
                <button id="send-btn" style="width:25%; padding:8px; background:#00bcd4; border:none; color:white; cursor:pointer;">Send</button>
            </div>
        </div>
        <button id="chatbot-toggle" style="background:#00bcd4; color:white; border:none; border-radius:50%; width:60px; height:60px; font-size:24px; cursor:pointer; box-shadow:0 0 10px #00bcd4;">💬</button>
    </div>
    </main>
    <script src="script.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggleBtn = document.getElementById('chatbot-toggle');
        const closeBtn = document.getElementById('close-chat');
        const container = document.getElementById('chatbot-container');
        const messagesDiv = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');

        const API_KEY = "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";

        // Add message to chat
        function addMessage(sender, message, isHTML = false) {
            const messageElement = document.createElement('div');
            messageElement.style.margin = '5px';
            messageElement.style.padding = '8px';
            messageElement.style.borderRadius = '5px';
            messageElement.style.backgroundColor = sender === 'user' ? '#00bcd4' : '#1e1e1e';
            messageElement.style.color = 'white';
            messageElement.style.maxWidth = '80%';
            messageElement.style.marginLeft = sender === 'user' ? 'auto' : '0';
            if (isHTML) {
                messageElement.innerHTML = message;
            } else {
                messageElement.textContent = message;
            }
            messagesDiv.appendChild(messageElement);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // Show loading indicator
        function showLoadingIndicator() {
            const loadingElement = document.createElement('div');
            loadingElement.id = 'loading-indicator';
            loadingElement.style.margin = '5px';
            loadingElement.style.padding = '8px';
            loadingElement.style.borderRadius = '5px';
            loadingElement.style.backgroundColor = '#1e1e1e';
            loadingElement.style.color = 'white';
            loadingElement.style.maxWidth = '80%';
            loadingElement.style.marginLeft = '0';
            loadingElement.style.display = 'flex';
            loadingElement.style.alignItems = 'center';
            loadingElement.innerHTML = `
                <span style="color: #00bcd4; font-size: 20px; font-weight: bold; margin-right: 10px;">WESI</span>
                <span>Working...</span>
            `;
            messagesDiv.appendChild(loadingElement);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // Remove loading indicator
        function removeLoadingIndicator() {
            const loadingElement = document.getElementById('loading-indicator');
            if (loadingElement) {
                loadingElement.remove();
            }
        }

        // Fetch response from OpenRouter API
        async function fetchChatbotResponse(userMessage) {
            showLoadingIndicator();
            try {
                const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${API_KEY}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        "model": "deepseek/deepseek-chat-v3-0324:free",
                        "messages": [
                            {
                                "role": "user",
                                "content": userMessage
                            }
                        ]
                    })
                });

                if (!response.ok) {
                    throw new Error("Failed to fetch response.");
                }

                const data = await response.json();
                const botMessage = data.choices[0]?.message?.content || "Sorry, I couldn't process your request.";
                const isGeneralQuestion = !botMessage.includes("WESI"); // Example condition to detect general questions

                // Format the response for better presentation
                const formattedMessage = botMessage.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

                // Scale chatbot window for general questions
                if (isGeneralQuestion) {
                    container.classList.add('scaled');
                    setTimeout(() => {
                        container.classList.remove('scaled');
                    }, 3000); // Reset after 3 seconds
                }

                addMessage('bot', formattedMessage, true);
            } catch (error) {
                console.error(error);
                addMessage('bot', "An error occurred while connecting to the chatbot service.");
            } finally {
                removeLoadingIndicator();
            }
        }

        // Handle user input
        function handleUserInput() {
            const input = userInput.value.trim();
            if (!input) return;

            addMessage('user', input);
            userInput.value = '';

            // Fetch response from OpenRouter API
            fetchChatbotResponse(input);
        }

        // Toggle chatbot visibility
        toggleBtn.addEventListener('click', function () {
            container.style.display = container.style.display === 'block' ? 'none' : 'block';
        });

        // Close chatbot
        closeBtn.addEventListener('click', function () {
            container.style.display = 'none';
        });

        // Send button and Enter key functionality
        sendBtn.addEventListener('click', handleUserInput);
        userInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') handleUserInput();
        });

        // Initial greeting
        setTimeout(() => {
            addMessage('bot', "Hi! I'm WESI Assistant. Ask me anything!");
        }, 1000);

        // Forum post functionality
        function postMessage() {
            const postContent = document.getElementById("postContent").value.trim();
            if (postContent !== "") {
                const forumPosts = document.getElementById("forumPosts");
                const newPost = document.createElement("div");
                newPost.className = "post";
                newPost.innerHTML = `<p>${postContent}</p>
                <button class="reply-btn"><i class="fa-solid fa-reply"></i> Reply</button>
                <div class="replies"></div>`;
                forumPosts.insertBefore(newPost, forumPosts.firstChild); // Add post at the top
                const currentPosts = forumPosts.innerHTML;
                localStorage.setItem("forumData", currentPosts); // Save updated posts to localStorage
                document.getElementById("postContent").value = ""; // Clear input field
            }
        }

        // Reply functionality
        function addReply(event) {
            const replyContent = prompt("Enter your reply:");
            if (replyContent && replyContent.trim() !== "") {
                const repliesContainer = event.target.nextElementSibling;
                const newReply = document.createElement("div");
                newReply.className = "reply";
                newReply.innerHTML = `<p>${replyContent}</p>`;
                repliesContainer.appendChild(newReply); // Add reply to the replies container
                const currentPosts = document.getElementById("forumPosts").innerHTML;
                localStorage.setItem("forumData", currentPosts); // Save updated posts to localStorage
            }
        }

        // Load saved forum posts on page load
        window.onload = function () {
            const savedPosts = localStorage.getItem("forumData");
            if (savedPosts) {
                document.getElementById("forumPosts").innerHTML = savedPosts; // Load saved posts
                // Reattach reply event listeners
                document.querySelectorAll(".reply-btn").forEach(btn => {
                    btn.addEventListener("click", addReply);
                });
            }
        };

        // Attach postMessage function to the post button
        document.getElementById("post").addEventListener("click", postMessage);

        // Attach reply functionality to dynamically created posts
        document.getElementById("forumPosts").addEventListener("click", function (event) {
            if (event.target.classList.contains("reply-btn") || event.target.closest(".reply-btn")) {
                addReply(event);
            }
        });

        // Clear all posts functionality
        function clearAllPosts() {
            if (confirm("Are you sure you want to delete all posts?")) {
                document.getElementById("forumPosts").innerHTML = ""; // Clear the posts container
                localStorage.removeItem("forumData"); // Remove posts from localStorage
            }
        }

        // Attach clearAllPosts function to the button
        document.getElementById("clearPosts").addEventListener("click", clearAllPosts);
    });
</script>
</body>


</html>